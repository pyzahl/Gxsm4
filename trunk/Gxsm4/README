ATTENTION:

THIS IS A BETA VERSION AND WORK IN PROGRESS of Gxsm4 ported to GTK4.
See details of pending / not functional parts below in section 3.
(C) PyZahl 2021-12-31

1. General Information
======================

GXSM -- Gnome X Scanning Microscopy: A multi-channel image and
vector-probe data acquisition and visualization system designed for
SPM techniques (STM,AFM..), but also SPA-LEED. A plug-in interface
allows any user add-on data-processing and special hardware and
instrument support.

Based on several hardware options it supports a commercially available
DSP hardware and provided also Open Source Code for all the low level
signal processing tasks and instrument controls in a most flexible and
adaptable manner.

All latest stable software is available
via SVN (Gxsm4) and GIT (gxsm4-beta) only

or Live Demo/Install CD:
http://www.ventiotec.de/linux/GXSM-Linux.iso

GXSM Web Site: http://gxsm.sf.net


2. Installation
===============

Gxsm4 requires GTK4, GtkSourceView5, libfftw, libnetcdf, libquicktime, ...

Simple install procedure:

svn checkout svn+ssh://zahl@svn.code.sf.net/p/gxsm/svn/trunk/Gxsm4 Gxsm4-svn

./autogen.sh
make -j16 -k
sudo make install -j16 -k

Note: there may be compile errors as of incomplete porting progress.

See the file 'INSTALL' for more detailed information.


3. To-Do-List
=============
To be ported, recoded,pending or disfunctional features and comments:

We are also looking a new build system like MESON+Ninja for the future. But that later.

Simple things are pending or missing for currently not yet rewokred plugins, they simply fail to compile as of gtk4 changes, mainly those are:

gtk_widget_show_all(X)   --> removed completely from gtk4, replace with gtk_widget_show (X) and hope all others are shown.
                             Make sure every manually created widget is receiving it's gtk_show_widget().
			     Using the gxsm core "bp" builder tool it's all taken care of now!

gtk_container_add...     --> gtk_xxxwidget_set_child (GTK_XXXWIDGET (W), child)   (most the time a like)

gtk_entry_set/get_text() --> gtk_enter_buffer_set/get(gtk_entry_get_buffer (GTK_ENTRY (entry))) examples:
  gtk_entry_buffer_set_text (GTK_ENTRY_BUFFER (gtk_entry_get_buffer (GTK_ENTRY (g_object_get_data( G_OBJECT (as_control), "originalname"))))
  text = gtk_entry_buffer_get_text (GTK_ENTRY_BUFFER (gtk_entry_get_buffer (GTK_ENTRY (g_object_get_data (G_OBJECT (as_control), "basename"))))));

gtk_dialog_run()         --> no more -- see gapp_service.h for new examples and work arounds!

GTM_MENU... stuff        --> all is based on gtk_popover_... now, see core code for ported examples.

BUTTON signal names changed: the check/toggle button types and signals are changed and not mixable any more as separate objects.
                             watch for run time GTK WARNING messages regarding ignored signals!


Pending and known issues:
-------------------------

Window Position Management....  gtk4 does not provide any hands on that any more -- big convenience and usability issue 🙁
                                any one has an idea if select (particular gnome shell) have some handles to get around this???

File load vie Drag-n-Drop from filemanager: working, but currently only for single files. (new drap/drop controller)

"Kill" or close scan window is disfunctional... (only hiding): need to figure out how to fix. "window-delete" signals do not exist any more.... (removed from App-Init call) 🙁

Spin-Entry: Now shows the units again, but not always at startup (some defaut formatting), only after first touch... not yet sure why that is.

Profile: pending mouse actions for cursors... need to port to gtk_controller (easy), subtitle management, canvas window resizing is currently disfucntional.

DSP MOVER CONTROL BUTTONS: action signal problem of missing signal for "pressed". The "activate" does not do anything... I tried.
-?> Do I now need to add event controllers to the buttons (can I??) and all that stuff to do this?

All ENTRIES: added configuration menu option not yet attached and not accessible. Need to figure out how to add a custom menu entry to gtk_popovers.
             It is possible to manually edit the properties via the dconf-editor to get started.

DSP-CONTROL windows A, B -- initial TAB Drag to empty secondary window impossible (or hard??) to find a hook area to drop off. Work around for now:
Manually hack config via dconf-editor, then further DnD is easy and as usual again:

Set for example
/org/gnome/gxsm4/hwi/sranger-mk23/window-01-tabs = 'aclefghkmn------------------------------'
and
/org/gnome/gxsm4/hwi/sranger-mk23/window-02-tabs = 'dijo----------------------------'
Then start gxsm4 again.


FYI:
----
I disabled warning messages in configure.ac (CFLAG -w) to not get flooded by a silly issue I cannot fix and added -fpermissive.
This is needed as I get an error by the C++ compiler per default now when I xor  GTK_FLAGS  like A | B ... as this foces a typ conversion to int...
Oh well some crap.

much more ... to be figured out ans tested ....


4. How to report bugs
=====================

Bugs should be reported to the GNOME bug tracking system.
(http://bugzilla.gnome.org, product gedit). You will need to create an
account for yourself.

In the bug report please include:

* Information about your system. For instance:

   - What version of gxsm4
   - What operating system and version
   - What version of the gtk, glib and gnome libraries

  And anything else you think is relevant.

* How to reproduce the bug. 

* If the bug was a crash, the exact text that was printed out when the
  crash occurred.

* Further information such as stack traces may be useful, but is not
  necessary. If you do send a stack trace, and the error is an X error,
  it will be more useful if the stack trace is produced running the test
  program with the --sync command line option.


5. Patches
==========

Patches should also be submitted to bugzilla.gnome.org. If the patch
fixes an existing bug, add the patch as an attachment to that bug
report.

Otherwise, enter a new bug report that describes the patch, and attach
the patch to that bug report.

Please create patches with the git format-patch command.

If you are interested in helping us to develop gedit, please see the 
file 'AUTHOR' for contact information and/or send a message to the gedit
mailing list. See also the file 'HACKING' for more detailed information.


  The gxsm team.
